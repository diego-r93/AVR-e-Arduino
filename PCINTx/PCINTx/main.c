/*
 * PCINTx.c
 *
 * Created: 23/08/2020 04:04:33
 * Author : Diego
 */ 

//====================================================================================================================//
//						Cada vez que um botão é pressionado o LED correspondente troca de estado
//====================================================================================================================//

#include "def_principais.h"

ISR(PCINT1_vect);

//--------------------------------------------------------------------------------------------------------------------//

int main(void)
{
    DDRC = 0x00;
	PORTC = 0xFF;
	DDRD = 0b11100000;
	PORTD = 0xFF;
	
	PCICR = 1<<PCIE1;
	PCMSK1 = (1<<PCINT10) | (1<<PCINT9) | (1<<PCINT8);
	
	sei();
	
    while (1) ;
}
//--------------------------------------------------------------------------------------------------------------------//

ISR(PCINT1_vect)
{
	if (!tst_bit(PINC, PC0))
		cpl_bit(PORTD, LED0);
	else if (!tst_bit(PINC, PC1))
		cpl_bit(PORTD, LED1);
	else if (!tst_bit(PINC, PC2))
		cpl_bit(PORTD, LED2);
		
	_delay_ms(200);
}
//====================================================================================================================//